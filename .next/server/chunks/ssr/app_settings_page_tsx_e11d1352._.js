module.exports=[45343,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(187),e=a.i(97895),f=a.i(52046);let g=(0,d.cva)(`${f.pClass} inline-flex items-center justify-center rounded-full border px-2 py-0.5 w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden`,{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function h({className:a,variant:d,asChild:f=!1,...h}){let i=f?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(g({variant:d}),a),...h})}var i=a.i(40695),j=a.i(72131);a.i(35112);var k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let e=(0,c.createSlot)(`Primitive.${d}`),f=j.forwardRef((a,c)=>{let{asChild:f,...g}=a;return(0,b.jsx)(f?e:d,{...g,ref:c})});return f.displayName=`Primitive.${d}`,{...a,[d]:f}},{}),l=j.forwardRef((a,c)=>(0,b.jsx)(k.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));function m({className:a,...c}){return(0,b.jsx)(l,{"data-slot":"label",className:(0,e.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}l.displayName="Label";var n="horizontal",o=["horizontal","vertical"];function p({className:a,...c}){return(0,b.jsx)("fieldset",{"data-slot":"field-set",className:(0,e.cn)("flex flex-col gap-6","has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3",a),...c})}function q({className:a,variant:c="legend",...d}){return(0,b.jsx)("legend",{"data-slot":"field-legend","data-variant":c,className:(0,e.cn)("mb-3 font-medium",`data-[variant=legend]:${f.h1Class}`,`data-[variant=label]:${f.pClass}`,a),...d})}function r({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"field-group",className:(0,e.cn)("group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 *:data-[slot=field-group]:gap-4",a),...c})}j.forwardRef((a,c)=>{var d;let{decorative:e,orientation:f=n,...g}=a,h=(d=f,o.includes(d))?f:n;return(0,b.jsx)(k.div,{"data-orientation":h,...e?{role:"none"}:{"aria-orientation":"vertical"===h?h:void 0,role:"separator"},...g,ref:c})}).displayName="Separator";let s=(0,d.cva)("group/field flex w-full gap-3 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"],responsive:["flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function t({className:a,orientation:c="vertical",...d}){return(0,b.jsx)("div",{role:"group","data-slot":"field","data-orientation":c,className:(0,e.cn)(s({orientation:c}),a),...d})}function u({className:a,...c}){return(0,b.jsx)(m,{"data-slot":"field-label",className:(0,e.cn)("group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50","has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border *:data-[slot=field]:p-4","has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10",f.h4Class,a),...c})}function v({className:a,...c}){return(0,b.jsx)("p",{"data-slot":"field-description",className:(0,e.cn)("text-muted-foreground! group-has-data-[orientation=horizontal]/field:text-balance","last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",f.pClass,a),...c})}var w=a.i(5522),x=a.i(55962),y=a.i(12295),z=a.i(68953),A=a.i(33508),B=a.i(32159);async function C(){try{return await (0,B.invoke)("get_audio_paths")}catch(a){return console.error("Error fetching audio paths:",a),[]}}async function D(a){try{await (0,B.invoke)("save_audio_path",{path:a})}catch(a){throw console.error("Error saving audio path:",a),a}}async function E(a){try{await (0,B.invoke)("delete_audio_path",{path:a})}catch(a){throw console.error("Error deleting audio path:",a),a}}var F=a.i(54814);function G(){let{musicPaths:a,newPath:c,setNewPath:d,isSaving:e,handleAddPath:g,handleRemovePath:k}=function(){let[a,b]=(0,j.useState)([]),[c,d]=(0,j.useState)(""),[e,f]=(0,j.useState)(!1);async function g(){if(c.trim()){f(!0);try{await D(c),d("");let a=await C();b(a)}catch(a){console.error("Error saving music path:",a),alert("Error saving music path. Please try again.")}finally{f(!1)}}}return(0,j.useEffect)(()=>{!async function(){try{let a=await C();b(a)}catch(a){console.error("Error loading music paths:",a)}}()},[]),{musicPaths:a,newPath:c,setNewPath:d,isSaving:e,handleAddPath:g,handleRemovePath:async function(a){f(!0);try{await E(a.trim());let c=await C();b(c)}catch(a){console.error("Error removing music path:",a),alert("Error removing music path. Please try again.")}finally{f(!1)}},setMusicPaths:b}}(),{spotifySettings:l,setSpotifySettings:m,isSpotifySaving:n,handleSaveSpotifySettings:o}=function(){let[a,b]=(0,j.useState)({clientId:"",clientSecret:""}),[c,d]=(0,j.useState)(!1);async function e(){d(!0);try{await (0,F.saveSpotifySettings)(a),alert("Spotify settings saved successfully!")}catch(a){console.error("Error saving Spotify settings:",a),alert("Error saving settings. Please try again.")}finally{d(!1)}}return(0,j.useEffect)(()=>{!async function(){try{let a=await (0,F.getSpotifySettings)();b(a)}catch(a){console.error("Error loading Spotify settings:",a)}}()},[]),{spotifySettings:a,setSpotifySettings:b,isSpotifySaving:c,handleSaveSpotifySettings:e}}(),{setNewAudioQueue:s}=function(){let{setAudioQueue:a}=(0,y.usePlayerContext)();return{setNewAudioQueue:async function(b){try{let c=await (0,z.getPlaylistById)(b);if(!c||!c.audioFiles)return void a([]);let d=c.audioFiles.map(a=>({data:a,ref:{current:null}}));a(d)}catch(b){console.error("Error fetching audio files:",b),a([])}}}}(),{isAuthenticated:B,login:G,logout:H}=(0,x.useSpotifyAuth)();return(0,b.jsxs)("div",{className:"flex flex-col p-6 w-full gap-16",children:[(0,b.jsxs)(p,{className:"w-full",children:[(0,b.jsx)(q,{children:"Music settings"}),(0,b.jsx)(v,{children:"Input your preferences for your music"}),(0,b.jsxs)(r,{children:[(0,b.jsxs)(t,{children:[(0,b.jsx)(u,{children:"Saved Music Paths"}),a.length>0?(0,b.jsx)("ul",{className:"space-y-1",children:a.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center gap-1",children:[(0,b.jsx)(h,{className:`${f.pClass} bg-accent cursor-default`,children:a}),(0,b.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>k(a),disabled:e,children:(0,b.jsx)(A.X,{})})]},c))}):(0,b.jsx)(f.Small,{children:"No paths saved yet"})]}),(0,b.jsxs)(t,{className:"mt-4",children:[(0,b.jsx)(u,{children:"Add New Path"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(w.Input,{autoComplete:"off",placeholder:"C:\\Users\\User\\Music",value:c,onChange:a=>d(a.target.value)}),(0,b.jsx)(i.Button,{onClick:g,disabled:e||!c.trim(),children:e?"Adding...":"Add Path"})]}),(0,b.jsx)(f.Small,{children:"Type or paste the full path to your music folder."})]})]}),(0,b.jsx)(i.Button,{onClick:()=>s("krj95ctlc6j9vy4"),children:"Refresh queue (will be deleted)"})]}),(0,b.jsxs)(p,{className:"w-full",children:[(0,b.jsx)(q,{children:"Spotify Settings"}),(0,b.jsx)(v,{children:"Configure your Spotify API credentials for authentication."}),(0,b.jsxs)(r,{children:[(0,b.jsxs)(t,{children:[(0,b.jsx)(u,{children:"Client ID"}),(0,b.jsx)(w.Input,{autoComplete:"off",placeholder:"Your Spotify Client ID",value:l.clientId,onChange:a=>m({...l,clientId:a.target.value})}),(0,b.jsx)(f.Small,{children:"Get this from your Spotify app dashboard."})]}),(0,b.jsxs)(t,{children:[(0,b.jsx)(u,{children:"Client Secret"}),(0,b.jsx)(w.Input,{autoComplete:"off",type:"password",placeholder:"Your Spotify Client Secret",value:l.clientSecret,onChange:a=>m({...l,clientSecret:a.target.value})}),(0,b.jsx)(f.Small,{children:"Keep this secret and secure."})]}),(0,b.jsx)(i.Button,{onClick:o,disabled:n,className:"mt-4",children:n?"Saving...":"Save Settings"}),l.clientId&&l.clientSecret&&(0,b.jsx)("div",{className:"mt-4",children:B?(0,b.jsx)(i.Button,{onClick:H,variant:"outline",children:"Logout from Spotify"}):(0,b.jsx)(i.Button,{onClick:G,children:"Login to Spotify"})})]})]})]})}a.s(["default",()=>G],45343)}];

//# sourceMappingURL=app_settings_page_tsx_e11d1352._.js.map