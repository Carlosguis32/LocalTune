{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/cpast/Documents/Repositories/Melira/components/playlist/playlist-card.tsx"],"sourcesContent":["import { SpotifyPlaylist } from '@/database-types';\nimport { cn } from '@/lib/utils';\nimport { Image } from '../image/image';\nimport { P, Small } from '../ui/typography';\nimport Link from 'next/link';\nimport { Music } from 'lucide-react';\n\ninterface PlaylistCardProps {\n\tplaylist: SpotifyPlaylist;\n\tclassName?: string;\n\tonClick?: () => void;\n}\n\nexport function PlaylistCard(props: PlaylistCardProps) {\n\tconst { playlist, className, onClick } = props;\n\n\t// Obtener la imagen de la playlist (usar la primera si existe)\n\tconst imageUrl = playlist.images?.[0]?.url || '';\n\tconst isLocalPlaylist = playlist.id === 'local-files';\n\n\treturn (\n\t\t<Link\n\t\t\thref={`/playlist/${playlist.id}`}\n\t\t\tclassName={cn(\n\t\t\t\t'group flex flex-col gap-2 p-3 rounded-md cursor-pointer hover:bg-muted-secondary transition-all',\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{isLocalPlaylist ? (\n\t\t\t\t<div className=\"aspect-square w-full rounded-md bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center\">\n\t\t\t\t\t<Music className=\"w-20 h-20 text-white\" />\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<Image\n\t\t\t\t\tclassName=\"aspect-square object-cover rounded-md w-full\"\n\t\t\t\t\tsrc={imageUrl}\n\t\t\t\t\talt={playlist.name || 'Playlist image'}\n\t\t\t\t\twidth={200}\n\t\t\t\t\theight={200}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<div className=\"min-w-0\">\n\t\t\t\t<P className=\"truncate\">{playlist.name || 'Unnamed Playlist'}</P>\n\t\t\t\t<Small className=\"truncate text-muted-foreground\">\n\t\t\t\t\t{playlist.tracks.total} {playlist.tracks.total === 1 ? 'song' : 'songs'}\n\t\t\t\t</Small>\n\t\t\t</div>\n\t\t</Link>\n\t);\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;;;;;;;AAQO,SAAS,aAAa,KAAwB;IACpD,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG;IAEzC,+DAA+D;IAC/D,MAAM,WAAW,SAAS,MAAM,EAAE,CAAC,EAAE,EAAE,OAAO;IAC9C,MAAM,kBAAkB,SAAS,EAAE,KAAK;IAExC,qBACC,6LAAC,0KAAI;QACJ,MAAM,CAAC,UAAU,EAAE,SAAS,EAAE,EAAE;QAChC,WAAW,IAAA,qHAAE,EACZ,mGACA;QAED,SAAS;;YAER,gCACA,6LAAC;gBAAI,WAAU;0BACd,cAAA,6LAAC,gNAAK;oBAAC,WAAU;;;;;;;;;;qCAGlB,6LAAC,yIAAK;gBACL,WAAU;gBACV,KAAK;gBACL,KAAK,SAAS,IAAI,IAAI;gBACtB,OAAO;gBACP,QAAQ;;;;;;0BAGV,6LAAC;gBAAI,WAAU;;kCACd,6LAAC,uIAAC;wBAAC,WAAU;kCAAY,SAAS,IAAI,IAAI;;;;;;kCAC1C,6LAAC,2IAAK;wBAAC,WAAU;;4BACf,SAAS,MAAM,CAAC,KAAK;4BAAC;4BAAE,SAAS,MAAM,CAAC,KAAK,KAAK,IAAI,SAAS;;;;;;;;;;;;;;;;;;;AAKrE;KArCgB"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/cpast/Documents/Repositories/Melira/lib/api/audioPath.ts"],"sourcesContent":["import { invoke } from '@tauri-apps/api/core';\nimport { AudioFile } from '@/database-types';\n\nexport async function getAudioPaths(): Promise<string[]> {\n\ttry {\n\t\tconst paths = await invoke<string[]>('get_audio_paths');\n\t\treturn paths;\n\t} catch (error) {\n\t\tconsole.error('Error fetching audio paths:', error);\n\t\treturn [];\n\t}\n}\n\nexport async function saveAudioPath(path: string): Promise<void> {\n\ttry {\n\t\tawait invoke('save_audio_path', { path });\n\t} catch (error) {\n\t\tconsole.error('Error saving audio path:', error);\n\t\tthrow error;\n\t}\n}\n\nexport async function deleteAudioPath(path: string): Promise<void> {\n\ttry {\n\t\tawait invoke('delete_audio_path', { path });\n\t} catch (error) {\n\t\tconsole.error('Error deleting audio path:', error);\n\t\tthrow error;\n\t}\n}\n\nexport async function getAllLocalAudioFiles(): Promise<AudioFile[]> {\n\ttry {\n\t\tconst files = await invoke<AudioFile[]>('get_all_local_audio_files');\n\t\treturn files;\n\t} catch (error) {\n\t\tconsole.error('Error fetching local audio files:', error);\n\t\treturn [];\n\t}\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAGO,eAAe;IACrB,IAAI;QACH,MAAM,QAAQ,MAAM,IAAA,2JAAM,EAAW;QACrC,OAAO;IACR,EAAE,OAAO,OAAO;QACf,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,EAAE;IACV;AACD;AAEO,eAAe,cAAc,IAAY;IAC/C,IAAI;QACH,MAAM,IAAA,2JAAM,EAAC,mBAAmB;YAAE;QAAK;IACxC,EAAE,OAAO,OAAO;QACf,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM;IACP;AACD;AAEO,eAAe,gBAAgB,IAAY;IACjD,IAAI;QACH,MAAM,IAAA,2JAAM,EAAC,qBAAqB;YAAE;QAAK;IAC1C,EAAE,OAAO,OAAO;QACf,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM;IACP;AACD;AAEO,eAAe;IACrB,IAAI;QACH,MAAM,QAAQ,MAAM,IAAA,2JAAM,EAAc;QACxC,OAAO;IACR,EAAE,OAAO,OAAO;QACf,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO,EAAE;IACV;AACD"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/cpast/Documents/Repositories/Melira/app/playlist/page.tsx"],"sourcesContent":["'use client';\n\nimport { PlaylistCard } from '@/components/playlist/playlist-card';\nimport { H1, P } from '@/components/ui/typography';\nimport { SpotifyPlaylist } from '@/database-types';\nimport { getSpotifyPlaylists } from '@/lib/api/spotify';\nimport { getAllLocalAudioFiles } from '@/lib/api/audioPath';\nimport { useEffect, useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Plus, AlertCircle } from 'lucide-react';\nimport { useSpotifyAuth } from '@/context/spotify/spotify-auth-context';\n\nexport default function Playlists() {\n\tconst [playlists, setPlaylists] = useState<SpotifyPlaylist[]>([]);\n\tconst [localFilesCount, setLocalFilesCount] = useState<number>(0);\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [error, setError] = useState<string | null>(null);\n\tconst { isAuthenticated, login } = useSpotifyAuth();\n\n\t// Crear la playlist virtual de archivos locales\n\tconst localPlaylist: SpotifyPlaylist = {\n\t\tid: 'local-files',\n\t\tname: 'Archivos Locales',\n\t\tdescription: 'Todos tus archivos de música local',\n\t\timages: [],\n\t\towner: {\n\t\t\tid: 'local',\n\t\t\tdisplay_name: 'Local'\n\t\t},\n\t\ttracks: {\n\t\t\ttotal: localFilesCount\n\t\t},\n\t\tpublic: false,\n\t\tcollaborative: false,\n\t\tsnapshot_id: '',\n\t\texternal_urls: {\n\t\t\tspotify: ''\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\ttry {\n\t\t\t\tsetIsLoading(true);\n\t\t\t\tsetError(null);\n\n\t\t\t\t// Siempre cargar archivos locales\n\t\t\t\tconst localFiles = await getAllLocalAudioFiles();\n\t\t\t\tsetLocalFilesCount(localFiles.length);\n\n\t\t\t\t// Cargar playlists de Spotify solo si está autenticado\n\t\t\t\tif (isAuthenticated) {\n\t\t\t\t\tconst fetchedPlaylists = await getSpotifyPlaylists();\n\t\t\t\t\tsetPlaylists(fetchedPlaylists);\n\t\t\t\t} else {\n\t\t\t\t\tsetPlaylists([]);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error loading playlists:', error);\n\t\t\t\tsetError(error instanceof Error ? error.message : 'Failed to load playlists');\n\t\t\t} finally {\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t}\n\n\t\tfetchData();\n\t}, [isAuthenticated]);\n\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center p-6 w-full h-full\">\n\t\t\t\t<P className=\"text-muted-foreground\">Loading playlists...</P>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<div className=\"flex flex-col items-center justify-center p-6 w-full h-full gap-4\">\n\t\t\t\t<AlertCircle className=\"size-16 text-destructive\" />\n\t\t\t\t<H1>Error</H1>\n\t\t\t\t<P className=\"text-muted-foreground text-center max-w-md\">{error}</P>\n\t\t\t\t<Button onClick={() => window.location.reload()}>Try Again</Button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Mostrar mensaje para conectar Spotify solo si no está autenticado\n\tconst showSpotifyPrompt = !isAuthenticated;\n\t\n\t// Combinar playlists: local primero, luego Spotify\n\tconst allPlaylists = [localPlaylist, ...playlists];\n\n\treturn (\n\t\t<div className=\"flex flex-col items-start p-6 w-full\">\n\t\t\t<div className=\"flex items-center justify-between w-full mb-6\">\n\t\t\t\t<H1 className=\"px-3\">Your playlists</H1>\n\t\t\t\t<Button size=\"sm\" className=\"gap-2\">\n\t\t\t\t\t<Plus className=\"size-4\" />\n\t\t\t\t\tCreate Playlist\n\t\t\t\t</Button>\n\t\t\t</div>\n\n\t\t\t{showSpotifyPrompt && (\n\t\t\t\t<div className=\"w-full mb-6 p-4 bg-accent/50 rounded-lg border border-border\">\n\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<P className=\"font-medium\">Connect to Spotify</P>\n\t\t\t\t\t\t\t<P className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\tConnect your Spotify account to access your online playlists\n\t\t\t\t\t\t\t</P>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button onClick={login} size=\"sm\">\n\t\t\t\t\t\t\tLogin to Spotify\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 w-full\">\n\t\t\t\t{allPlaylists.map((playlist: SpotifyPlaylist) => {\n\t\t\t\t\treturn <PlaylistCard key={playlist.id} playlist={playlist} />;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;;;AAVA;;;;;;;;;AAYe,SAAS;;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAoB,EAAE;IAChE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAS;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,GAAG,IAAA,sKAAc;IAEjD,gDAAgD;IAChD,MAAM,gBAAiC;QACtC,IAAI;QACJ,MAAM;QACN,aAAa;QACb,QAAQ,EAAE;QACV,OAAO;YACN,IAAI;YACJ,cAAc;QACf;QACA,QAAQ;YACP,OAAO;QACR;QACA,QAAQ;QACR,eAAe;QACf,aAAa;QACb,eAAe;YACd,SAAS;QACV;IACD;IAEA,IAAA,0KAAS;+BAAC;YACT,eAAe;gBACd,IAAI;oBACH,aAAa;oBACb,SAAS;oBAET,kCAAkC;oBAClC,MAAM,aAAa,MAAM,IAAA,mJAAqB;oBAC9C,mBAAmB,WAAW,MAAM;oBAEpC,uDAAuD;oBACvD,IAAI,iBAAiB;wBACpB,MAAM,mBAAmB,MAAM,IAAA,+IAAmB;wBAClD,aAAa;oBACd,OAAO;wBACN,aAAa,EAAE;oBAChB;gBACD,EAAE,OAAO,OAAO;oBACf,QAAQ,KAAK,CAAC,4BAA4B;oBAC1C,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBACnD,SAAU;oBACT,aAAa;gBACd;YACD;YAEA;QACD;8BAAG;QAAC;KAAgB;IAEpB,IAAI,WAAW;QACd,qBACC,6LAAC;YAAI,WAAU;sBACd,cAAA,6LAAC,uIAAC;gBAAC,WAAU;0BAAwB;;;;;;;;;;;IAGxC;IAEA,IAAI,OAAO;QACV,qBACC,6LAAC;YAAI,WAAU;;8BACd,6LAAC,sOAAW;oBAAC,WAAU;;;;;;8BACvB,6LAAC,wIAAE;8BAAC;;;;;;8BACJ,6LAAC,uIAAC;oBAAC,WAAU;8BAA8C;;;;;;8BAC3D,6LAAC,wIAAM;oBAAC,SAAS,IAAM,OAAO,QAAQ,CAAC,MAAM;8BAAI;;;;;;;;;;;;IAGpD;IAEA,oEAAoE;IACpE,MAAM,oBAAoB,CAAC;IAE3B,mDAAmD;IACnD,MAAM,eAAe;QAAC;WAAkB;KAAU;IAElD,qBACC,6LAAC;QAAI,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACd,6LAAC,wIAAE;wBAAC,WAAU;kCAAO;;;;;;kCACrB,6LAAC,wIAAM;wBAAC,MAAK;wBAAK,WAAU;;0CAC3B,6LAAC,6MAAI;gCAAC,WAAU;;;;;;4BAAW;;;;;;;;;;;;;YAK5B,mCACA,6LAAC;gBAAI,WAAU;0BACd,cAAA,6LAAC;oBAAI,WAAU;;sCACd,6LAAC;;8CACA,6LAAC,uIAAC;oCAAC,WAAU;8CAAc;;;;;;8CAC3B,6LAAC,uIAAC;oCAAC,WAAU;8CAAgC;;;;;;;;;;;;sCAI9C,6LAAC,wIAAM;4BAAC,SAAS;4BAAO,MAAK;sCAAK;;;;;;;;;;;;;;;;;0BAOrC,6LAAC;gBAAI,WAAU;0BACb,aAAa,GAAG,CAAC,CAAC;oBAClB,qBAAO,6LAAC,8JAAY;wBAAmB,UAAU;uBAAvB,SAAS,EAAE;;;;;gBACtC;;;;;;;;;;;;AAIJ;GAlHwB;;QAKY,sKAAc;;;KAL1B"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/circle-alert.js","sources":["file:///C:/Users/cpast/Documents/Repositories/Melira/node_modules/lucide-react/src/icons/circle-alert.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,QAAA,CAAA;QAAU,CAAA;YAAE,EAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,IAAA,CAAA;YAAM,CAAA,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,GAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACzD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,EAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACjE;QAAC,MAAA,CAAA;QAAQ,CAAA;YAAE,EAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAS,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,IAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CACvE;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,WAAA,CAAA,CAAA,KAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAgB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}