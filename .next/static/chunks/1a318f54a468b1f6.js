(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},55720,e=>{"use strict";var t=e.i(43476),r=e.i(41389),i=e.i(18566),o=e.i(71645);function s(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)();return(0,o.useEffect)(()=>{!async function(){let t=s.get("code"),i=s.get("error");if(i){console.error("Auth error:",i),alert("Authentication failed: "+i),e.push("/settings");return}if(!t){alert("No authorization code received"),e.push("/settings");return}let o=sessionStorage.getItem("spotify_code_verifier");if(!o){alert("Code verifier not found. Please try again."),e.push("/settings");return}try{await (0,r.exchangeToken)(t,o),sessionStorage.removeItem("spotify_code_verifier"),alert("Successfully authenticated with Spotify!"),e.push("/")}catch(t){console.error("Error exchanging token:",t),alert("Failed to authenticate. Please try again."),e.push("/settings")}}()},[e,s]),(0,t.jsx)("div",{children:"Processing authentication..."})}function n(){return(0,t.jsx)(o.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(s,{})})}e.s(["default",()=>n])}]);