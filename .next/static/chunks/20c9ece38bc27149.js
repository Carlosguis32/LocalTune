(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32545,e=>{"use strict";var t=e.i(43476),a=e.i(91918),r=e.i(25913),i=e.i(47163),l=e.i(9953);let o=(0,r.cva)(`${l.pClass} inline-flex items-center justify-center rounded-full border px-2 py-0.5 w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden`,{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,asChild:l=!1,...n}){let s=l?a.Slot:"span";return(0,t.jsx)(s,{"data-slot":"badge",className:(0,i.cn)(o({variant:r}),e),...n})}var s=e.i(67881),d=e.i(71645);e.i(74080);var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let i=(0,a.createSlot)(`Primitive.${r}`),l=d.forwardRef((e,a)=>{let{asChild:l,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(l?i:r,{...o,ref:a})});return l.displayName=`Primitive.${r}`,{...e,[r]:l}},{}),u=d.forwardRef((e,a)=>(0,t.jsx)(c.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function f({className:e,...a}){return(0,t.jsx)(u,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}u.displayName="Label";var p="horizontal",h=["horizontal","vertical"];function g({className:e,...a}){return(0,t.jsx)("fieldset",{"data-slot":"field-set",className:(0,i.cn)("flex flex-col gap-6","has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3",e),...a})}function v({className:e,variant:a="legend",...r}){return(0,t.jsx)("legend",{"data-slot":"field-legend","data-variant":a,className:(0,i.cn)("mb-3 font-medium",`data-[variant=legend]:${l.h1Class}`,`data-[variant=label]:${l.pClass}`,e),...r})}function m({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"field-group",className:(0,i.cn)("group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 *:data-[slot=field-group]:gap-4",e),...a})}d.forwardRef((e,a)=>{var r;let{decorative:i,orientation:l=p,...o}=e,n=(r=l,h.includes(r))?l:p;return(0,t.jsx)(c.div,{"data-orientation":n,...i?{role:"none"}:{"aria-orientation":"vertical"===n?n:void 0,role:"separator"},...o,ref:a})}).displayName="Separator";let x=(0,r.cva)("group/field flex w-full gap-3 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"],responsive:["flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function y({className:e,orientation:a="vertical",...r}){return(0,t.jsx)("div",{role:"group","data-slot":"field","data-orientation":a,className:(0,i.cn)(x({orientation:a}),e),...r})}function b({className:e,...a}){return(0,t.jsx)(f,{"data-slot":"field-label",className:(0,i.cn)("group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50","has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border *:data-[slot=field]:p-4","has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10",l.h4Class,e),...a})}function j({className:e,...a}){return(0,t.jsx)("p",{"data-slot":"field-description",className:(0,i.cn)("text-muted-foreground! group-has-data-[orientation=horizontal]/field:text-balance","last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",l.pClass,e),...a})}var w=e.i(23750),S=e.i(30421),C=e.i(31071),N=e.i(39871),k=e.i(37727),P=e.i(86682);async function E(){try{return await (0,P.invoke)("get_audio_paths")}catch(e){return console.error("Error fetching audio paths:",e),[]}}async function I(e){try{await (0,P.invoke)("save_audio_path",{path:e})}catch(e){throw console.error("Error saving audio path:",e),e}}async function B(e){try{await (0,P.invoke)("delete_audio_path",{path:e})}catch(e){throw console.error("Error deleting audio path:",e),e}}var A=e.i(41389);function R(){let{musicPaths:e,newPath:a,setNewPath:r,isSaving:i,handleAddPath:o,handleRemovePath:c}=function(){let[e,t]=(0,d.useState)([]),[a,r]=(0,d.useState)(""),[i,l]=(0,d.useState)(!1);async function o(){if(a.trim()){l(!0);try{await I(a),r("");let e=await E();t(e)}catch(e){console.error("Error saving music path:",e),alert("Error saving music path. Please try again.")}finally{l(!1)}}}return(0,d.useEffect)(()=>{!async function(){try{let e=await E();t(e)}catch(e){console.error("Error loading music paths:",e)}}()},[]),{musicPaths:e,newPath:a,setNewPath:r,isSaving:i,handleAddPath:o,handleRemovePath:async function(e){l(!0);try{await B(e.trim());let a=await E();t(a)}catch(e){console.error("Error removing music path:",e),alert("Error removing music path. Please try again.")}finally{l(!1)}},setMusicPaths:t}}(),{spotifySettings:u,setSpotifySettings:f,isSpotifySaving:p,handleSaveSpotifySettings:h}=function(){let[e,t]=(0,d.useState)({clientId:"",clientSecret:""}),[a,r]=(0,d.useState)(!1);async function i(){r(!0);try{await (0,A.saveSpotifySettings)(e),alert("Spotify settings saved successfully!")}catch(e){console.error("Error saving Spotify settings:",e),alert("Error saving settings. Please try again.")}finally{r(!1)}}return(0,d.useEffect)(()=>{!async function(){try{let e=await (0,A.getSpotifySettings)();t(e)}catch(e){console.error("Error loading Spotify settings:",e)}}()},[]),{spotifySettings:e,setSpotifySettings:t,isSpotifySaving:a,handleSaveSpotifySettings:i}}(),{setNewAudioQueue:x}=function(){let{setAudioQueue:e}=(0,C.usePlayerContext)();return{setNewAudioQueue:async function(t){try{let a=await (0,N.getPlaylistById)(t);if(!a||!a.audioFiles)return void e([]);let r=a.audioFiles.map(e=>({data:e,ref:{current:null}}));e(r)}catch(t){console.error("Error fetching audio files:",t),e([])}}}}(),{isAuthenticated:P,login:R,logout:z}=(0,S.useSpotifyAuth)();return(0,t.jsxs)("div",{className:"flex flex-col p-6 w-full gap-16",children:[(0,t.jsxs)(g,{className:"w-full",children:[(0,t.jsx)(v,{children:"Music settings"}),(0,t.jsx)(j,{children:"Input your preferences for your music"}),(0,t.jsxs)(m,{children:[(0,t.jsxs)(y,{children:[(0,t.jsx)(b,{children:"Saved Music Paths"}),e.length>0?(0,t.jsx)("ul",{className:"space-y-1",children:e.map((e,a)=>(0,t.jsxs)("li",{className:"flex items-center gap-1",children:[(0,t.jsx)(n,{className:`${l.pClass} bg-accent cursor-default`,children:e}),(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",onClick:()=>c(e),disabled:i,children:(0,t.jsx)(k.X,{})})]},a))}):(0,t.jsx)(l.Small,{children:"No paths saved yet"})]}),(0,t.jsxs)(y,{className:"mt-4",children:[(0,t.jsx)(b,{children:"Add New Path"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(w.Input,{autoComplete:"off",placeholder:"C:\\Users\\User\\Music",value:a,onChange:e=>r(e.target.value)}),(0,t.jsx)(s.Button,{onClick:o,disabled:i||!a.trim(),children:i?"Adding...":"Add Path"})]}),(0,t.jsx)(l.Small,{children:"Type or paste the full path to your music folder."})]})]}),(0,t.jsx)(s.Button,{onClick:()=>x("krj95ctlc6j9vy4"),children:"Refresh queue (will be deleted)"})]}),(0,t.jsxs)(g,{className:"w-full",children:[(0,t.jsx)(v,{children:"Spotify Settings"}),(0,t.jsx)(j,{children:"Configure your Spotify API credentials for authentication."}),(0,t.jsxs)(m,{children:[(0,t.jsxs)(y,{children:[(0,t.jsx)(b,{children:"Client ID"}),(0,t.jsx)(w.Input,{autoComplete:"off",placeholder:"Your Spotify Client ID",value:u.clientId,onChange:e=>f({...u,clientId:e.target.value})}),(0,t.jsx)(l.Small,{children:"Get this from your Spotify app dashboard."})]}),(0,t.jsxs)(y,{children:[(0,t.jsx)(b,{children:"Client Secret"}),(0,t.jsx)(w.Input,{autoComplete:"off",type:"password",placeholder:"Your Spotify Client Secret",value:u.clientSecret,onChange:e=>f({...u,clientSecret:e.target.value})}),(0,t.jsx)(l.Small,{children:"Keep this secret and secure."})]}),(0,t.jsx)(s.Button,{onClick:h,disabled:p,className:"mt-4",children:p?"Saving...":"Save Settings"}),u.clientId&&u.clientSecret&&(0,t.jsx)("div",{className:"mt-4",children:P?(0,t.jsx)(s.Button,{onClick:z,variant:"outline",children:"Logout from Spotify"}):(0,t.jsx)(s.Button,{onClick:R,children:"Login to Spotify"})})]})]})]})}e.s(["default",()=>R],32545)}]);