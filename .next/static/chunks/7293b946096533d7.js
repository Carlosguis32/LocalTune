(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},42599,e=>{"use strict";var t=e.i(43476),r=e.i(41389),i=e.i(18566),o=e.i(71645);function n(){let e=(0,i.useRouter)();return(0,o.useEffect)(()=>{!async function(){try{let e,t=await (0,r.getSpotifySettings)(),i=(e=new Uint8Array(32),crypto.getRandomValues(e),btoa(String.fromCharCode(...e)).replace(/[^a-zA-Z0-9]/g,"")),o=await a(i);sessionStorage.setItem("spotify_code_verifier",i);let n=new URLSearchParams({client_id:t.clientId,response_type:"code",redirect_uri:"http://127.0.0.1:3000/auth/spotify/callback",scope:"user-read-private user-read-email",code_challenge:o,code_challenge_method:"S256"}),c=`https://accounts.spotify.com/authorize?${n.toString()}`;window.location.href=c}catch(t){console.error("Error initiating login:",t),alert("Error loading settings. Please configure Spotify settings first."),e.push("/settings")}}()},[e]),(0,t.jsx)("div",{children:"Redirecting to Spotify..."})}async function a(e){let t=new TextEncoder().encode(e);return btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.digest("SHA-256",t)))).replace(/[^a-zA-Z0-9]/g,"")}e.s(["default",()=>n])}]);